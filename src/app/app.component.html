<mat-sidenav-container class="sidenav-container">
  <mat-sidenav mode="side" opened class="sidenav">
    <div class="info-finance mb-4">
      <!-- todo -->
    </div>

    <!-- Recherche -->
    <div class="recherche mb-2">
      <div class="search-container">
        <mat-icon class="search-icon">search</mat-icon>
        <input type="text" placeholder="Rechercher..." class="search-input">
      </div>
    </div>
    <div class="icon-label-container mb-4">
      <a mat-fab extended class="home align-start" routerLink=".">
        <mat-icon>home</mat-icon>
        Accueil
      </a>
    </div>
    <hr class="mb-4">

    <mat-nav-list>
      <div class="icon-label-container">
        <mat-icon>person</mat-icon>
        <span>Presentation de l'uc</span>
      </div>
      <div class="icon-label-container" matTooltip="Chefs de la DSP" [matMenuTriggerFor]="chefsMenu">
        <mat-icon>group</mat-icon>
        <span>Chefs de la DSP</span>
      </div>
      <div class="icon-label-container">
        <mat-icon>assignment</mat-icon>
        <span>PTA et activités</span>
      </div>
      <div class="icon-label-container">
        <mat-icon>folder</mat-icon>
        <span>Autres documents</span>
      </div>
      <div class="icon-label-container">
        <mat-icon>event</mat-icon>
        <span>Reunion</span>
      </div>
      <div class="icon-label-container">
        <mat-icon>lock</mat-icon>
        <span>Accès réservé</span>
      </div>
    </mat-nav-list>

    <mat-menu #chefsMenu="matMenu" xPosition="before" class="chefs-menu">
      <button mat-menu-item [routerLink]="['/organigramme']">Organigramme</button>
      <button mat-menu-item [routerLink]="['/le-daf']">le DAF</button>
      <button mat-menu-item [routerLink]="['/chef-uc']">Chef UC</button>
      <button mat-menu-item [routerLink]="['/liste-des-chefs']">Liste des Chefs</button>
    </mat-menu>

    <div class="info mb-1" *ngIf="isAuthenticated(); else loginTemplate">
      <div class="logo">
        <span *ngIf="user">{{ user.accountType.charAt(0) }}</span>
      </div>
      <div class="info-text">
        <span class="mail">{{ user?.email }}</span>
        <div *ngIf="matricule" class="matricule-display">
          {{ matricule }}
          <mat-icon class="logout-icon" (click)="logout()">logout</mat-icon>
        </div>
      </div>
    </div>
    
    <ng-template #loginTemplate>
      <div class="login-link">
        <a routerLink="/login">Connexion</a>
      </div>
    </ng-template>
  </mat-sidenav>

  <!-- Main navigation window -->
  <mat-sidenav-content class="custom-sidenav-content">
    <router-outlet></router-outlet>
  </mat-sidenav-content>
</mat-sidenav-container>